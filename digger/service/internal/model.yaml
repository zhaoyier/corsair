#中国股市配置
CNConfig:
  db: mongo
  dbname: digger
  fields:
    - DecreaseTag: int32  #跌幅标准
    - DecreasePeriod: int32 #跌幅周期
    - PriceInterval: int32  #推荐价格间隔
    - UpdateBy: string
    - UpdateDate: datetime

CNSecucode:
  db: mongo
  dbname: digger
  fields:
    - Name: string        #名称
    - Secucode: string
    - Focus: bool         #关注   
    - Disabled: bool      #
    - MainBusiness: string #主营业务
    - CreateDate: datetime
    - UpdateDate: datetime
  uniques: [[Secucode],[Name]]

GDRenshu:
  db: mongo
  dbname: digger
  fields:
    - Secucode: string
    - SecurityCode: string
    - EndDate: int64              #截止时间
    - HolderTotalNum: float64     #股东人数
    - TotalNumRatio: float64      #较上期变化
    - AvgFreeShares: float64      #人均流通股
    - AvgFreesharesRatio: float64 #人均较上期变化
    - HoldFocus: string           #筹码集中度
    - Price: float64              #价格
    - AvgHoldAmt: float64         #金额
    - HoldRatioTotal: float64     #top10合计
    - FreeholdRatioTotal: float64 #top10流通合计
    - CreateDate: datetime        
    - UpdateDate: datetime
  uniques: [[Secucode, EndDate]]
  indexes: [[Secucode],[SecurityCode], [EndDate], [HolderTotalNum]]
  

GDNiusan:
  db: mongo
  dbname: digger
  fields:
    - SecurityCode: string
    - Niusan: string
    - Disabled: bool
    - CreateDate: datetime
    - UpdateDate: datetime
  indexes: [[SecurityCode],[Niusan]]

SinaDaily:
  db: mongo
  dbname: digger
  fields:
    - Secucode: string
    - EndDate: string
    - Price: float64
    - Highest: float64
    - Minimum: float64
    - CreateDate: datetime
  uniques: [[Secucode,EndDate]]
  indexes: [[Secucode],[EndDate]]

#十大流通股东
GDsdlt:
  db: mongo
  dbname: digger
  fields:
    - Secucode: string      
    - EndDate: int64        #截止日期
    - HolderRank: int32     #名次
    - HolderName: string    #股东名称
    - HolderType: string    #股东性质
    - HoldNum: int32        #持股数
    - FreeHoldnumRation: float64  #占总流通股本持股比例
    - HoldNumChange: string   #增减
    - CreateDate: datetime
  uniques: [[Secucode,EndDate,HolderName]]
  indexes: [[Secucode,EndDate],[CreateDate]]

GDLongLine:
    db: mongo
    dbname: digger
    fields:
      - Secucode: string
      - Name: string            #名称
      - ValueIndex: int32       #价值指数
      - CumulantPrice: string   #价格梯度
      - CumulantFocus: string   #集中度梯度
      - CumulantDate: string    #日期梯度
      - CumulantRatio: string    #日期梯度
      - GDReduceRatio: int32    #最近三次股东减少比例
      - Disabled: bool
      - Remark: string
      - EndDate: int64          #截止日期
      - CreateDate: datetime
    uniques: [[Secucode,EndDate]]
    indexes: [[ValueIndex],[EndDate],[Disabled],[CreateDate]]

GPShortLine:
    db: mongo
    dbname: digger
    fields:
      - Secucode: string
      - Name: string            #名称
      - MDecrease: int32 #
      - TDecrease: int32 #
      - DecreaseTag: int32
      - MaxPrice: float64  #
      - MinPrice: float64  #
      - PresentPrice: float64
      - MaxPDay: int64
      - Disabled: bool
      - Remark: string
      - CreateDate: datetime
      - UpdateDate: datetime
    uniques: [[Secucode,CreateDate]]
    indexes: [[Secucode],[Disabled],[CreateDate]]

GPDaily:
    db: mongo
    dbname: digger
    fields:
      - Secucode  : string 
      - Name: string
      - Closing   : float64 
      - Rise      : float64 
      - PRise     : float64 
      - Turnover  : int64     
      - Business  : float64 
      - Liangbi   : float64  
      - MaxPrice  : float64 
      - MinPrice  : float64 
      - Opening   : float64 
      - Market    : int64   
      - Traded    : int64     
      - BookRatio : float64
      - CreateDate: datetime  #年月日
      - UpdateDate: datetime
    uniques: [[Secucode,CreateDate]]
    indexes: [[Name],[CreateDate],[UpdateDate]]

GPRecommend:
    db: mongo
    dbname: digger
    fields:
      - Secucode  : string 
      - Name: string
      - RMIndex:  int32 
      - RMType: int32
      - PDecrease: int32    #二月内
      - DecreaseTag: int32  
      - DecreaseDay: string    #删除
      - GDDecrease: int32     #
      - MaxPrice: float64
      - MaxPDay: int64
      - PresentPrice: float64
      - RMPrice: list<float64>     
      - State: int32  #1准备,2开始, 3进行中,4结束,5放弃
      - Remark: map[string]string  #map[date]xxx
      - Disabled: bool
      - UpdateNum: int32  #更新次数
      - CreateDate: datetime
      - UpdateBy: string
      - UpdateDate: datetime
    uniques: [[Secucode,Disabled]]
    indexes: [[Secucode,State],[CreateDate]]

GPPromptBuy:
  db: mongo
  dbname: digger
  fields:
    - Secucode  : string 
    - Name: string
    - MinPrice: float64
    - Start: datetime
    - PresentPrice: float64
    - Disabled: bool
    - UpdateDate: datetime
  uniques: [[Secucode,Disabled]]
  indexes: [[Secucode],[Name]]

Job:
    db: mongo
    dbname: digger
    fields:
      - Msg: map[string]string
      - CreateDate: string  #年月日
      - UpdateDate: datetime
    uniques: [[CreateDate]] 

#延迟配置
GPManualDecrease:
  db: mongo
  dbname: digger
  fields:
    - Secucode: string 
    - Name: string
    - Disabled: bool
    - DecreaseTag: int32
    - EffectStart: int64    #生效开始
    - EffectEnd: int64      #生效结束
    - CreateDate: datetime  
    - UpdateDate: datetime
  uniques: [[Secucode,Disabled]]
  indexes: [[Secucode],[Name]]

# 关注列表
GPFocus:
  db: mongo
  dbname: digger
  fields:
    - Name: string
    - Secucode: string 
    - State: int32      #0未知,1准备,2开始,3进行中
    - Disabled: bool
    - PresentPrice: float64   #当前价格
    - ExpectPrice: float64    #预期买入价格
    - ExpectDate: int64       #期望日期
    - MainBusiness: string    #主营业务
    - CreateDate: datetime  
    - UpdateDate: datetime
  uniques: [[Secucode],[Name]]

# 周期
GPZhouQi:
  db: mongo
  dbname: digger
  fields:
    - Name: string
    - Secucode: string
    - State: int32      #1时间接近2价格接近
    - Disabled: bool
    - PresentPrice: float64   #当前价格
    - ExpectMin: float64      #预期
    - ExpectMax: float64      #预期
    - ExpectStart: datetime
    - ExpectEnd: datetime
    - BuyingCount: int32
    - MainBusiness: string     #主营业务
    - CreateDate: datetime  
    - UpdateDate: datetime
  uniques: [[Secucode]]
  indexes: [[Secucode],[Name]]

# 备注
GPRemark:
  db: mongo
  dbname: digger
  fields:
    - Name: string
    - Secucode: string
    - Remark: string
    - Disabled: bool
    - CreateDate: datetime
  
# 股东人数聚合    
GDAggregation:
  db: mongo
  dbname: digger
  fields:
    - Name: string
    - Secucode: string
    - EndDate: int64              #截止时间
    - TotalRatioAccum: int32          #累计值
    - PriceRatio: int32            #价格差率
    - PriceMax: float64
    - PriceMin: float64
    - HolderTotalNum: int32       #股东人数
    - HoldFocus: string           #筹码集中度
    - HoldRatioTotal: int32       #top10合计
    - FreeholdRatioTotal: int32   #top10流通合计
    - UpdateDate: datetime
  uniques: [[Secucode]]
  indexes: [[Secucode],[TotalRatioAccum],[PriceRatio],[HoldRatioTotal],[FreeholdRatioTotal]]

# 股东人数聚合    
GPFundFlow:
  db: mongo
  dbname: digger
  fields:
    - Name: string
    - Secucode: string
    - Five: int32              #截止时间
    - Ten: int32                #累计值
    - Twenty: int32            #价格差率
    - UpdateDate: datetime
  uniques: [[Secucode]]