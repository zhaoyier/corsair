syntax = "proto3";
 
option go_package="./;digger";
package digger;

service ZWAdmin {
    rpc UserLogin(UserLoginReq) returns(UserLoginResp);
    rpc UserInfo(UserInfoReq) returns(UserInfoResp);
    rpc UserLogout(UserLogoutReq) returns(UserLogoutResp);
    rpc GetCNConfig(GetCNConfigReq) returns(GetCNConfigResp);
    rpc UpdateCNConfig(UpdateCNConfigReq) returns(UpdateCNConfigResp);
    rpc GetRecommend(GetRecommendReq) returns(GetRecommendResp);
    rpc UpdateRecommend(UpdateRecommendReq) returns(UpdateRecommendResp);
    rpc PromptBuyList(PromptBuyListReq) returns(PromptBuyListResp);
    rpc UpdatePromptBuy(UpdatePromptBuyReq) returns(UpdatePromptBuyResp);
    rpc GetLongLineList(GetLongLineListReq) returns(GetLongLineListResp);
    rpc GetFocusList(FocusListReq) returns(FocusListResp);
    rpc FocusConfirm(FocusConfirmReq) returns(FocusConfirmResp);
    rpc CancelFocus(CancelFocusReq) returns(CancelFocusResp);
    rpc UpdateFocus(UpdateFocusReq) returns(UpdateFocusResp);
    rpc GetDailyList(GetDailyListReq) returns(GetDailyListResp);
    rpc ManualDecreaseList(ManualDecreaseListReq) returns(ManualDecreaseListResp);
    rpc GDRenshuList(GDRenshuListReq) returns(GDRenshuListResp);
    rpc GDRenshuDetail(GDRenshuDetailReq) returns(GDRenshuDetailResp);
    rpc AddGPZhouQi(AddGPZhouQiReq) returns(AddGPZhouQiResp);
    rpc UpdateGPZhouQi(UpdateGPZhouQiReq) returns(UpdateGPZhouQiResp);
    rpc GPZhouQiList(GPZhouQiListReq) returns(GPZhouQiListResp);
    rpc GDAggregationReset(GDAggregationResetReq) returns(GDAggregationResetResp);
    rpc GDAggregationList(GDAggregationListReq) returns(GDAggregationListResp);
    rpc AddGPRemark(AddGPRemarkReq) returns(AddGPRemarkResp);
    rpc GetGPRemark(GetGPRemarkReq) returns(GetGPRemarkResp);
    rpc GetFundFlowList(GetFundFlowListReq) returns(GetFundFlowListResp);
    rpc GetFundDetailList(GetFundDetailListReq) returns(GetFundDetailListResp);
    rpc GetGDSDLT(GetGDSDLTReq) returns(GetGDSDLTResp);
    rpc GetGDSDLTDetail(GetGDSDLTDetailReq) returns(GetGDSDLTDetailResp);
    rpc GetWaterfallList(GetWaterfallReq) returns(GetWaterfallResp);
    rpc UpdateWaterfallState(UpdateWaterfallStateReq) returns(UpdateWaterfallStateResp);

}

message UpdateWaterfallStateReq {
    string name = 1;
    string secucode = 2;
}

message UpdateWaterfallStateResp {
    int32 code = 1;
}

message GetWaterfallReq {
    string name = 1;
    string secucode = 2;
    int32 decrease = 3;
    int32 state = 4;        //1推荐,2关注，3忽略
    int32 limit = 5;
    int32 offset = 6;
}

message WaterfallItem {
    string name = 1;
    string secucode = 2;
    int32 decrease = 3;
    int64 maxPDay = 4;         //最高距离现在
    double maxPrice = 5;        //最高价
    double minPrice = 6;        //最低价
    double closing = 7;         //收盘
    double presentPrice = 8;    //当前价格
    int32 state = 10;            //状态 1推荐,2关注，3忽略
    int64 traded = 11;           //流通市值
    string inflowRatioStr = 12;      //流入占比
    int64 createDate = 20;
    int64 updateDate = 21;
}

message WaterfallData{
    int32 total = 1;
    repeated WaterfallItem items = 2;
}

message GetWaterfallResp {
    int32 code = 1;
    WaterfallData data = 2;
}

message GetCNConfigReq {

}

message CNConfigData {
    int32 decreaseTag = 1;
    int32 decreasePeriod = 2;
    int32 priceInterval = 3;
}

message GetCNConfigResp {
    int32 code = 1;
    CNConfigData data = 2;
}

message GetGDSDLTDetailReq {
    string name = 1;
    string secucode = 2;
    int32 limit = 3;
    int32 offset = 4;
}

message GDSDLTDetailItem {
    string name = 1;
    string secucode = 2;
    int64 endDate = 3;
    int32 holderRank = 4;
    string holderName = 5;
    string holderType = 6;
    int32 holdNum = 7;
    double holdnumRation = 8;
    string holdNumChange = 10;
    int64 createDate = 12;
}

message GDSDLTDetailData {
    int32 total = 1;
    repeated GDSDLTDetailItem items = 2;
}

message GetGDSDLTDetailResp {
    int32 code = 1;
    GDSDLTDetailData data = 2;
}

message GetGDSDLTReq {
    string keyword = 1;
    int64 releaseStart = 2;
    int64 releaseEnd = 3;
    int32 limit = 10;
    int32 offset = 11;
}

message GDSDLTItem {
    string name = 1;
    string secucode = 2;
    double freeRation = 3;
    string focused = 4;
}

message GDSDLTData {
    int32 total = 1;
    repeated GDSDLTItem items = 2;
}

message GetGDSDLTResp {
    int32 code = 1;
    GDSDLTData data = 2;
}

message GetFundDetailListReq {
    repeated string secucodes= 1;
}

message FundDetailItem {
    string name = 1;
    string type = 2;
    string stack = 3;
    repeated int32 data = 4;
} 

message FundDetailData {
    repeated string legendData = 1;
    repeated FundDetailItem items = 2;
}

message GetFundDetailListResp {
    int32 code = 1;
    FundDetailData data = 2;
}

message GetFundFlowListReq {
    string name = 1;
    string secucode= 2;
    int64 fundStart = 3;
    int64 fundEnd = 4;
    int32 inflow = 5;
    int32 inflowRatio = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message GPFundFlowItem {
    string name = 1;
    string secucode= 2;
    int64 fundDate = 3;
    int32 inflow= 4;
    int32 inflowRatio= 5;
    int32 presentPrice = 6;
    int32 increaseRatio = 7;
    int64 createDate = 8;
    string focused = 10;    //关注
    int64 traded = 14;      //流通市值
}

message GPFundFlowData {
    int32 total = 1;
    repeated GPFundFlowItem items = 2;
}

message GetFundFlowListResp{
    int32 code = 1;
    GPFundFlowData data = 2;
}

message AddGPRemarkReq {
    string name = 1;
    string secucode= 2;
    string remark = 3;
}

message AddGPRemarkResp {
    int32 code = 1;
}

message GetGPRemarkReq {
    string secucode= 2; 
    int32 limit = 10;
    int32 offset = 11;
}

message GPRemarkData {
    repeated GPRemarkItem items = 1;
    int32 total = 2;
}

message GetGPRemarkResp {
    int32 code = 1;
    GPRemarkData data = 2;
}

message GDAggregationListReq {
    string name = 1;
    string secucode= 2;
    int32 totalNumRatio= 3;   //股东人数变化率
    int64 releaseStart = 5; //截止时间
    int64 releaseEnd = 6;
    double priceRatio= 10;      //股价变化率
    int32 holdRatio= 12;   //十大股东占比
    int32 limit = 20;
    int32 offset = 21;
}

message GDAggregationItem {
    string name = 1;
    string secucode = 2;
    int64 endDate = 3;
    int32 holderRatio = 5;   //股东人数变化率
    int32 priceRatio = 6;    //股价变化率
    double priceMax = 10;
    double priceMin = 11;
    string holdFocus = 12;
    int32 holderNum = 15;     //股东人数
    int32 holdRatio=16;     //TOP10
    int32 freeholdRatio = 17;
    int64 updateDate = 18;
    string focused = 20;      //是否关注
}

message GDAggregationData {
    int32 total = 1;
    repeated GDAggregationItem items = 2;
}

message GDAggregationListResp {
    int32 code = 1;
    GDAggregationData data = 2;
}

message GDAggregationResetReq {
    string secucode= 1;
    int64 periodStart = 10;
    int64 periodEnd = 11;
}

message GDAggregationResetResp {
    int32 code = 1;
}

enum GPZhouQiState {
    GPZhouQiStateUnknown = 0;
    GPZhouQiStateDate = 1;  //时间接近
    GPZhouQiStatePrice = 2; //价格接近
}

message UpdateGPZhouQiReq {
    string name = 1;
    string secucode= 2;
    double presentPrice= 4;
    double expectMin= 5;
    double expectMax= 6;
    int64 expectStart= 7;
    int64 expectEnd= 8;
    bool disabled = 9;
    string mainBusiness = 15;   //主营业务
}

message UpdateGPZhouQiResp{
    int32 code = 1;
}

message GPZhouQiRemark {
    string remark = 1;
    string createDate = 2;
}

message GPZhouQiItem {
    string name = 1;
    string secucode= 2;
    double presentPrice= 4;
    double expectMin= 5;
    double expectMax= 6;
    int64 expectStart= 7;
    int64 expectEnd= 8;
    string updateDate = 9;
    string remark = 10;     //备注
    repeated GPRemarkItem remarks = 15;
    string state = 16;   //状态
    bool disabled = 20;
    string mainBusiness = 21;   //主营业务
}

message AddGPZhouQiReq {
    string name = 1;
    string secucode= 2;
    double presentPrice= 4;
    double expectMin= 5;
    double expectMax= 6;
    int64 expectStart= 10;
    int64 expectEnd= 11;
}

message AddGPZhouQiResp {
    int32 code = 1;
}

message GPZhouQiListReq {
    string name = 1;
    string secucode = 2;
    int64 expectStart = 3;
    int64 expectEnd = 4;
    int32 state = 5;
    DisabledType disabled = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message GPZhouQiData {
    int32 total = 1;
    repeated GPZhouQiItem items = 2;
}

message GPZhouQiListResp {
    int32 code = 1;
    GPZhouQiData data = 2;
}

enum GDRenshuSortType {
    GDRenshuSortTypeUnknown = 0;
    GDRenshuSortTypeDecrease = 1;
    GDRenshuSortTypeIncrease = 2;
}

message GDRenshuDetailReq {
    string secucode = 1;
}

message GDRenshuDetailData {
    int32 total = 1;
    repeated GDRenshuItem items = 2;
}

message GDRenshuDetailResp {
    int32 code = 1;
    GDRenshuDetailData data = 2;
}

message GDRenshuListReq {
    string name = 1;
    string secucode = 2;
    int64 releaseStart = 3;
    int64 releaseEnd = 4;
    int32 sortTyp = 5;
    double totalRatio = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message GDRenshuItem {
    string name = 1;
    string secucode = 2;
    string releaseDate = 3;
    int32  holderTotalNum = 4;      //人数
    double totalNumRatio = 5;       //变化
    string holdFocus = 6;           //集中度
    double price = 10;              //价格
    double presentPrice = 11;       //当前价
    double holdRatioTotal = 15;     //top10
    double freeholdRatioTotal = 16; //
    string focused = 18;      //是否关注
}

message GDRenshuData {
    int32 total = 1;
    repeated GDRenshuItem items = 2;
}

message GDRenshuListResp {
    int32 code = 1;
    GDRenshuData data = 2;
}

enum RecommendSortType {
    RecommendSortTypeUnknown = 0;
    RecommendSortTypeState = 1;         //状态
    RecommendSortTypeGPIncrease = 2;    //股票涨跌
    RecommendSortTypeGPDecrease = 3;    //股票涨跌
    RecommendSortTypeGDIncrease = 4;    //股东人数
    RecommendSortTypeGDDecrease = 5;    //股东人数
}

enum DisabledType {
    DisabledTypeUnknown = 0;
    DisabledTypeValid = 1;      //有效的
    DisabledTypeInvalid = 2;    //无效的
}

message UpdateFocusReq {
    string secucode = 1;
    double expectPrice = 2;
    int64 expectDate = 3;
    string mainBusiness = 4;
}

message UpdateFocusResp {
    int32 code = 1;
}

message UpdateCNConfigReq {
    int32 decreaseTag= 1;   //下跌幅度
    int32 decreasePeriod= 2; //下跌周期
}

message UpdateCNConfigResp {
    int32 code = 1;
}

message CancelFocusReq {
    string name = 1;
    string secucode = 2;
}

message CancelFocusResp{
    int32 code = 1;
}

message FocusConfirmReq {
    string name = 1;
    string secucode = 2;
    double expectPrice = 3;
    string remark = 4;
    string mainBusiness = 5;
}

message FocusConfirmResp {
    int32 code = 1;
}

message ManualDecreaseListReq{
    string name = 1;
    string secucode = 2;
    int32 decreaseTag = 3; //跌幅标记
    int32 limit = 10;
    int32 offset = 11;
}

message ManualDecreaseItem {
    string name = 1;
    string secucode = 2;
    int32 decreaseTag = 3;
    string effectStart = 4;
    string effectEnd = 5;
    string createDate = 6;
    string updateDate = 7;
}

message ManualDecreaseData {
    int32 total = 1;
    repeated ManualDecreaseItem items = 2;
}

message ManualDecreaseListResp {
    int32 code = 1;
    ManualDecreaseData data = 2;
}

message GetDailyListReq {
    string name = 1;
    string secucode = 2;
    double decrease = 3;
    int64 startDate = 5;
    int64 endDate = 6;
    double closing = 7;
    int64 market = 8;
    int32 limit = 10;
    int32 offset = 11;
}

message GPDailyItem {
    string name = 1;
    string secucode = 2;
    double opening = 3; //开盘价
    double closing = 5; //收盘价
    double prise = 6;   //涨幅
    int64 turnover = 7; //成交量
    double business = 8;    //成交额
    double liangbi = 10; //量比
    double maxPrice = 11;
    double minPrice = 12;    
    int64 market = 13;      //市值
    int64 traded = 14;      //流通市值
    double bookRatio = 16;  //市净率
    string createDate = 20; //创建日期
    string focused = 21;    //关注
}

message GPDailyData {
    int32 total = 1;
    repeated GPDailyItem items = 2;
}

message GetDailyListResp {
    int32 code = 1;
    GPDailyData data = 2;
}

enum GPFocusState {
    FocusStateUnknown = 0;
    FocusStatePrepare = 1;  //准备
    FocusStateStart = 2;    //开始
    FocusStateProgress = 3; //进行中
}

message FocusListReq {
    string name = 1;
    string secucode = 2;
    DisabledType disabled = 3;
    int32 state = 4;
    int64 expectDateStart = 5;
    int64 expectDateEnd = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message GPRemarkItem {
    string name = 1;
    string secucode = 2; 
    string remark = 3;
    int64 createDate = 4;
}

message GPFocusItem {
    string name = 1;
    string secucode = 2;
    // double focusPrice = 3;
    double presentPrice = 5;
    double expectPrice = 6; //期望价格
    double diffPrice = 7;   //当前价格和期望价格差
    string createDate = 9;
    string updateDate = 10;
    string focused = 11;        //是否关注
    string holdFocus = 15;      //最近集中度
    double totalNumRatio = 16;  //最近一月股东人数变化
    int64 traded = 17;      //流通市值
    string state = 20;      //状态
    int64 expectDate = 21;  //期望日期
    string remark = 22;
    repeated GPRemarkItem remarks = 23; //备注
    string mainBusiness = 24;   //主营业务
}

message GPFocusData {
    int32 total = 1;
    repeated GPFocusItem items = 2;
}

message FocusListResp {
    int32 code = 1;
    GPFocusData data = 2;
}

message GetLongLineListReq {
    string secucode = 2;
    int32 gdRatio = 3;
    int32 valueIndex = 4;
    int64 startDate = 5;
    int64 endDate = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message LongLineItem {
    string secucode = 2;
    string name = 3;
    string price = 4;
    string focus = 5;
    string date = 6;
    string ratioStr = 7;
    int32 gdRatio = 8;
    string createDate = 9;
    double presentPrice = 10;
    int32 valueIndex = 11;
}

message LongLineData {
    int32 total = 1;
    repeated LongLineItem items = 2;
}

message GetLongLineListResp {
    int32 code = 1;
    LongLineData data = 2;
}

message PromptBuyListReq {
    int32 limit = 10;
    int32 offset = 11;
}

message PromptBuyItem {
    string secucode = 2;
    string name = 3;
    double minPrice = 4;
    double presentPrice = 5;
    double priceDiff = 6;
    string createDate = 7;
}

message PromptBuyData {
    int32 total = 1;
    repeated PromptBuyItem items = 2;
}

message PromptBuyListResp {
    int32 code = 1;
    PromptBuyData data = 2; 
}

message UpdatePromptBuyReq {
    string secucode = 2;
    bool disabled = 3;
}

message UpdatePromptBuyResp {
    int32 code = 1;
}

message UpdateRecommendReq {
    string name = 1;
    string secucode = 2;
    int32 priceDecrease = 3;
}

message UpdateRecommendResp {
    int32 code = 1;
}

message GetRecommendReq {
    int32 pDecrease = 1;
    int32 state = 2;    //状态
    string name = 3;
    string secucode = 4;
    RecommendSortType sortType = 5;
    int32 rmIndex = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message RecommendItem {
    int32 id = 1;
    string secucode = 2;
    string name = 3;
    int32 rMIndex = 4;
    int32 pDecrease = 5;
    double maxPrice = 6;        //最高价
    string maxPDay = 10;       //最高距离现在
    string rMPrice = 11;
    int32 gDDecrease = 12;
    string state = 13;          //状态
    int32 updateNum = 14;
    int32 referDecrease = 15;   //参照
    string updateDate=16;
    double presentPrice = 17;
    string focused = 18;      //是否关注
    int32 fundFive = 20;      //五日
    int32 fundTwenty = 21;    //二十日
    int64 traded = 22;        //流通市值
    int32 fundPercent = 23;   //二十日/流通百分比绝对值
}

message RecommendData {
    int32 total = 1;
    repeated RecommendItem items = 2;
}

message GetRecommendResp {
    int32 code = 1;
    RecommendData data = 2;
}

message UserLogoutReq {

}

message UserLogoutResp {
    int32 code = 1;
}

message UserInfoData {
    string avatar = 1;
    string introduction = 2;
    string name = 3;
    repeated string roles = 4;
}

message UserInfoReq {
    
}

message UserInfoResp {
    int32 code = 1;
    UserInfoData data = 2;
}

message UserLoginReq {
    string username = 1;
    string password = 2;
}

message LoginData {
    string token = 1;
}

message UserLoginResp {
    int32 code = 1;
    LoginData data = 2;
}