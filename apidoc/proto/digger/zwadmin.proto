syntax = "proto3";
 
option go_package="./;digger";
package digger;

service ZWAdmin {
    rpc UserLogin(UserLoginReq) returns(UserLoginResp);
    rpc UserInfo(UserInfoReq) returns(UserInfoResp);
    rpc UserLogout(UserLogoutReq) returns(UserLogoutResp);
    rpc UpdateCNConfig(UpdateCNConfigReq) returns(UpdateCNConfigResp);
    rpc GetRecommend(GetRecommendReq) returns(GetRecommendResp);
    rpc UpdateRecommend(UpdateRecommendReq) returns(UpdateRecommendResp);
    rpc PromptBuyList(PromptBuyListReq) returns(PromptBuyListResp);
    rpc UpdatePromptBuy(UpdatePromptBuyReq) returns(UpdatePromptBuyResp);
    rpc GetLongLineList(GetLongLineListReq) returns(GetLongLineListResp);
    rpc GetFocusList(FocusListReq) returns(FocusListResp);
    rpc FocusConfirm(FocusConfirmReq) returns(FocusConfirmResp);
    rpc CancelFocus(CancelFocusReq) returns(CancelFocusResp);
    rpc UpdateFocus(UpdateFocusReq) returns(UpdateFocusResp);
    rpc GetDailyList(GetDailyListReq) returns(GetDailyListResp);
    rpc ManualDecreaseList(ManualDecreaseListReq) returns(ManualDecreaseListResp);
    rpc GDRenshuList(GDRenshuListReq) returns(GDRenshuListResp);
    rpc GDRenshuDetail(GDRenshuDetailReq) returns(GDRenshuDetailResp);
    rpc AddGPZhouQi(AddGPZhouQiReq) returns(AddGPZhouQiResp);
    rpc UpdateGPZhouQi(UpdateGPZhouQiReq) returns(UpdateGPZhouQiResp);
    rpc GPZhouQiList(GPZhouQiListReq) returns(GPZhouQiListResp);
    rpc AddGPZhouQiRemark(AddGPZhouQiRemarkReq) returns(AddGPZhouQiRemarkResp);
}

enum GPZhouQiState {
    GPZhouQiStateUnknown = 0;
    GPZhouQiStateDate = 1;  //时间接近
    GPZhouQiStatePrice = 2; //价格接近
}

message AddGPZhouQiRemarkReq {
    string secucode= 2;
    string remark = 3;
}

message AddGPZhouQiRemarkResp{
    int32 code = 1;
}

message UpdateGPZhouQiReq {
    string name = 1;
    string secucode= 2;
    double presentPrice= 4;
    double expectMin= 5;
    double expectMax= 6;
    int64 expectStart= 7;
    int64 expectEnd= 8;
    bool disabled = 9;
}

message UpdateGPZhouQiResp{
    int32 code = 1;
}

message GPZhouQiRemark {
    string remark = 1;
    string createDate = 2;
}

message GPZhouQiItem {
    string name = 1;
    string secucode= 2;
    double presentPrice= 4;
    double expectMin= 5;
    double expectMax= 6;
    int64 expectStart= 7;
    int64 expectEnd= 8;
    string updateDate = 9;
    repeated GPZhouQiRemark remarks = 15;
    string state = 16;   //状态
}

message AddGPZhouQiReq {
    string name = 1;
    string secucode= 2;
    double presentPrice= 4;
    double expectMin= 5;
    double expectMax= 6;
    int64 expectStart= 10;
    int64 expectEnd= 11;
}

message AddGPZhouQiResp {
    int32 code = 1;
}

message GPZhouQiListReq {
    string name = 1;
    string secucode = 2;
    int64 expectStart = 3;
    int64 expectEnd = 4;
    int32 limit = 10;
    int32 offset = 11;
}

message GPZhouQiData {
    int32 total = 1;
    repeated GPZhouQiItem items = 2;
}

message GPZhouQiListResp {
    int32 code = 1;
    GPZhouQiData data = 2;
}

enum GDRenshuSortType {
    GDRenshuSortTypeUnknown = 0;
    GDRenshuSortTypeDecrease = 1;
    GDRenshuSortTypeIncrease = 2;
}

message GDRenshuDetailReq {
    string secucode = 1;
}

message GDRenshuDetailData {
    int32 total = 1;
    repeated GDRenshuItem items = 2;
}

message GDRenshuDetailResp {
    int32 code = 1;
    GDRenshuDetailData data = 2;
}

message GDRenshuListReq {
    string name = 1;
    string secucode = 2;
    int64 releaseStart = 3;
    int64 releaseEnd = 4;
    int32 sortTyp = 5;
    double totalRatio = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message GDRenshuItem {
    string name = 1;
    string secucode = 2;
    string releaseDate = 3;
    int32  holderTotalNum = 4;      //人数
    double totalNumRatio = 5;       //变化
    string holdFocus = 6;           //集中度
    double price = 10;              //价格
    double presentPrice = 11;       //当前价
    double holdRatioTotal = 15;     //top10
    double freeholdRatioTotal = 16; //
    string focused = 18;      //是否关注
}

message GDRenshuData {
    int32 total = 1;
    repeated GDRenshuItem items = 2;
}

message GDRenshuListResp {
    int32 code = 1;
    GDRenshuData data = 2;
}

enum RecommendSortType {
    RecommendSortTypeUnknown = 0;
    RecommendSortTypeState = 1;         //状态
    RecommendSortTypeGPIncrease = 2;    //股票涨跌
    RecommendSortTypeGPDecrease = 3;    //股票涨跌
    RecommendSortTypeGDIncrease = 4;    //股东人数
    RecommendSortTypeGDDecrease = 5;    //股东人数
}

enum DisabledType {
    DisabledTypeUnknown = 0;
    DisabledTypeValid = 1;      //有效的
    DisabledTypeInvalid = 2;    //无效的
}

message UpdateFocusReq {
    string secucode = 1;
    double expectPrice = 2;
}

message UpdateFocusResp {
    int32 code = 1;
}

message UpdateCNConfigReq {
    int32 decreaseTag= 1;   //下跌幅度
    int32 decreasePeriod= 2; //下跌周期
}

message UpdateCNConfigResp {
    int32 code = 1;
}

message CancelFocusReq {
    string name = 1;
    string secucode = 2;
}

message CancelFocusResp{
    int32 code = 1;
}

message FocusConfirmReq {
    string name = 1;
    string secucode = 2;
    double presentPrice = 3;
}

message FocusConfirmResp {
    int32 code = 1;
}

message ManualDecreaseListReq{
    string name = 1;
    string secucode = 2;
    int32 decreaseTag = 3; //跌幅标记
    int32 limit = 10;
    int32 offset = 11;
}

message ManualDecreaseItem {
    string name = 1;
    string secucode = 2;
    int32 decreaseTag = 3;
    string effectStart = 4;
    string effectEnd = 5;
    string createDate = 6;
    string updateDate = 7;
}

message ManualDecreaseData {
    int32 total = 1;
    repeated ManualDecreaseItem items = 2;
}

message ManualDecreaseListResp {
    int32 code = 1;
    ManualDecreaseData data = 2;
}

message GetDailyListReq {
    string name = 1;
    string secucode = 2;
    double decrease = 3;
    int64 startDate = 5;
    int64 endDate = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message GPDailyItem {
    string name = 1;
    string secucode = 2;
    double opening = 3; //开盘价
    double closing = 5; //收盘价
    double prise = 6;   //涨幅
    int64 turnover = 7; //成交量
    double business = 8;    //成交额
    double liangbi = 10; //量比
    double maxPrice = 11;
    double minPrice = 12;    
    int64 market = 13;      //市值
    int64 traded = 14;      //流通市值
    double bookRatio = 16;  //市净率
    string createDate = 20; //创建日期
}

message GPDailyData {
    int32 total = 1;
    repeated GPDailyItem items = 2;
}

message GetDailyListResp {
    int32 code = 1;
    GPDailyData data = 2;
}

enum FocusState {
    FocusStateUnknown = 0;
    FocusStatePrepare = 1;  //准备
    FocusStateStart = 2;    //开始
    FocusStateProgress = 3; //进行中
}

message FocusListReq {
    string name = 1;
    string secucode = 2;
    DisabledType disabled = 3;
    int32 limit = 10;
    int32 offset = 11;
}

message GPFocusItem {
    string name = 1;
    string secucode = 2;
    double focusPrice = 3;
    double presentPrice = 5;
    double expectPrice = 6; //期望价格
    double diffPrice = 7;   //当前价格和期望价格差
    string createDate = 9;
    string updateDate = 10;
    string focused = 11;        //是否关注
    string holdFocus = 15;      //最近集中度
    double totalNumRatio = 16;  //最近一月股东人数变化
    int64 traded = 17;      //流通市值
}

message GPFocusData {
    int32 total = 1;
    repeated GPFocusItem items = 2;
}

message FocusListResp {
    int32 code = 1;
    GPFocusData data = 2;
}

message GetLongLineListReq {
    string secucode = 2;
    int32 gdRatio = 3;
    int32 valueIndex = 4;
    int64 startDate = 5;
    int64 endDate = 6;
    int32 limit = 10;
    int32 offset = 11;
}

message LongLineItem {
    string secucode = 2;
    string name = 3;
    string price = 4;
    string focus = 5;
    string date = 6;
    string ratioStr = 7;
    int32 gdRatio = 8;
    string createDate = 9;
    double presentPrice = 10;
    int32 valueIndex = 11;
}

message LongLineData {
    int32 total = 1;
    repeated LongLineItem items = 2;
}

message GetLongLineListResp {
    int32 code = 1;
    LongLineData data = 2;
}

message PromptBuyListReq {
    int32 limit = 10;
    int32 offset = 11;
}

message PromptBuyItem {
    string secucode = 2;
    string name = 3;
    double minPrice = 4;
    double presentPrice = 5;
    double priceDiff = 6;
    string createDate = 7;
}

message PromptBuyData {
    int32 total = 1;
    repeated PromptBuyItem items = 2;
}

message PromptBuyListResp {
    int32 code = 1;
    PromptBuyData data = 2; 
}

message UpdatePromptBuyReq {
    string secucode = 2;
    bool disabled = 3;
}

message UpdatePromptBuyResp {
    int32 code = 1;
}

message UpdateRecommendReq {
    string name = 1;
    string secucode = 2;
    int32 priceDecrease = 3;
}

message UpdateRecommendResp {
    int32 code = 1;
}

message GetRecommendReq {
    int32 pDecrease = 1;
    int32 state = 2;    //状态
    string secucode = 3;
    RecommendSortType sortType = 4;
    int32 rmIndex = 5;
    int32 limit = 10;
    int32 offset = 11;
}

message RecommendItem {
    int32 id = 1;
    string secucode = 2;
    string name = 3;
    int32 rMIndex = 4;
    int32 pDecrease = 5;
    double maxPrice = 6;        //最高价
    string maxPDay = 10;       //最高距离现在
    string rMPrice = 11;
    int32 gDDecrease = 12;
    string state = 13;          //状态
    int32 updateNum = 14;
    int32 referDecrease = 15;   //参照
    string updateDate=16;
    double presentPrice = 17;
    string focused = 18;      //是否关注
}

message RecommendData {
    int32 total = 1;
    repeated RecommendItem items = 2;
}

message GetRecommendResp {
    int32 code = 1;
    RecommendData data = 2;
}

message UserLogoutReq {

}

message UserLogoutResp {
    int32 code = 1;
}

message UserInfoData {
    string avatar = 1;
    string introduction = 2;
    string name = 3;
    repeated string roles = 4;
}

message UserInfoReq {
    
}

message UserInfoResp {
    int32 code = 1;
    UserInfoData data = 2;
}

message UserLoginReq {
    string username = 1;
    string password = 2;
}

message LoginData {
    string token = 1;
}

message UserLoginResp {
    int32 code = 1;
    LoginData data = 2;
}